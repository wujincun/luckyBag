<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>lucyBagH5</title>
    <link rel="stylesheet" href="css/lucyBagH5.css"/>
</head>
<body>
<div class="part1 part"></div>
<div class="part2 part">
    <a class="gameStart">
        <div class="gameBag"></div>
        <div class="gameText">
            <img src="img/h5/gameText.png"/>
        </div>
    </a>
    <a class="foodArea hrefArea">
        <div class="leftScroll"></div>
        <div class="food"></div>
        <div class="rightScroll"></div>
    </a>
    <a class="songArea hrefArea">
        <div class="leftScroll"></div>
        <div class="song"></div>
        <div class="rightScroll"></div>
    </a>
</div>
<div class="part3 part">
    <a class="beautyArea hrefArea">
        <div class="leftScroll"></div>
        <div class="beauty"></div>
        <div class="rightScroll"></div>
    </a>
    <a class="kneadArea hrefArea">
        <div class="leftScroll"></div>
        <div class="knead"></div>
        <div class="rightScroll"></div>
    </a>
</div>
<div class="part4 part"></div>
<script src="js/flexible.js"></script>
<script src="js/zepto.min.js"></script>
<script>
    var luckyBag = {
        $hrefArea : $('.hrefArea'),
        windowH : $(window).height(),
        init:function () {
            var _this = this;
            _this.$hrefArea.each(function (key,value) {
                var themeTop = $(value).offset().top;
                if(themeTop <=  _this.windowH){
                    $(value).addClass('active')
                }
            });
            this.bind();
        },
        bind:function () {
            var _this = this;
            var $rule = $('.rule');
            var $rulePop = $('.rulePop');
            $(window).on('scroll',function () {
                var scrollTop = $(window).scrollTop();
                _this.$hrefArea.each(function (key,value) {
                    var themeTop = $(value).offset().top;
                    if(themeTop >= scrollTop && themeTop <= scrollTop + _this.windowH){
                        $(value).addClass('active')
                    }
                });
            });
            $rule.on('click',function () {
                $rulePop.show()
            });
            $rulePop.on('click','.close',function () {
                $rulePop.hide()
            })
        }
    };
    luckyBag.init()
</script>
</body>
</html>